---
# vars file for FortiGate

vlan_configs:
  - id: 10
    ip: 10.10.10.1/24
    allowaccess: ['ping', 'https', 'ssh']
    role: 'lan'
  - id: 20
    ip: 10.10.20.1/24
    allowaccess: ['ping', 'https', 'ssh']
    role: 'lan'
  - id: 30
    ip: 10.10.30.1/24
    allowaccess: ['ping', 'https', 'ssh']
    role: 'lan'
  - id: 40
    ip: 10.10.40.1/24
    allowaccess: ['ping', 'https', 'ssh', 'http']
    role: 'lan'

# DHCPv4 SERVERS

dhcp_servers:
  - vlan: 10
    start_ip: 10.10.10.100
    end_ip: 10.10.10.199
    netmask: 255.255.255.0
    gateway: 10.10.10.1
    lease_time: 18000

  - vlan: 20
    start_ip: 10.10.20.20
    end_ip: 10.10.20.230
    netmask: 255.255.255.0
    gateway: 10.10.20.1
    lease_time: 86400

  - vlan: 30
    start_ip: 10.10.30.20
    end_ip: 10.10.30.230
    netmask: 255.255.255.0
    gateway: 10.10.30.1
    lease_time: 86400

  - vlan: 40
    start_ip: 10.10.40.101
    end_ip: 10.10.40.230
    netmask: 255.255.255.0
    gateway: 10.10.40.1
    lease_time: 18000

# STATICS ROUTES

static_routes:
  - dest: '0.0.0.0/0'
    gateway: '192.168.1.254'
    interface: 'port1'
    comment: 'Connexion vers Internet'
    seq_num: 1

lan_other:
  - id: 2
    name: 'LAN to VLAN SERVEUR'
    schedule: 'always'
    action: 'accept'
    service:
      - { name: 'HTTPS' }
      - { name: 'DNS' }
      - { name: 'HTTP' }
      - { name: 'PING' }
      - { name: 'SSH' }
    srcintf: port2
    dst_id: 10
    dstintf_internet: port1

# Inter-vlan communication

intervlan_policy:
  - id: 201
    name: 'VLAN ADMINISTRATION to VLAN SERVEUR'
    schedule: 'always'
    action: 'accept'
    service:
      - { name: 'HTTPS' }
      - { name: 'SSH' }
      - { name: 'DNS' }
    src_id: 40
    dst_id: 30

  - id: 401
    name: 'VLAN MANAGEMENT to VLAN SERVEUR'
    schedule: 'always'
    action: 'accept'
    service:
      - { name: 'HTTPS' }
      - { name: 'HTTP' }
      - { name: 'PING' }
      - { name: 'SSH' }
      - { name: 'SNMP' }
    src_id: 40
    dst_id: 10

  - id: 402
    name: 'VLAN MANAGEMENT to VLAN EMPLOYES'
    schedule: 'always'
    action: 'accept'
    service:
      - { name: 'HTTPS' }
      - { name: 'DNS' }
      - { name: 'HTTP' }
      - { name: 'PING' }
      - { name: 'SSH' }
    src_id: 40
    dst_id: 30
